# WebVideo2NAS - Docker environment example
#
# Copy to .env and adjust values.
#

# =====================
# Required
# =====================
# API authentication (must NOT be change-this-key)
API_KEY=change-this-to-a-very-long-secure-key-minimum-32-chars

# PostgreSQL password (used by db container and API/worker connection string)
DB_PASSWORD=ChangeThisPassword123!


# =====================
# Common
# =====================
LOG_LEVEL=INFO

# CORS (API)
# Example for Chrome extension:
#   ALLOWED_ORIGINS=chrome-extension://<your-extension-id>
ALLOWED_ORIGINS=chrome-extension://*
# Optional: allow cookies/credentials (requires explicit origins; wildcard will be rejected)
CORS_ALLOW_CREDENTIALS=false


# =====================
# Performance
# =====================
MAX_DOWNLOAD_WORKERS=20
MAX_RETRY_ATTEMPTS=3
FFMPEG_THREADS=2

# DB cleanup (db_cleanup service)
# How often to prune finished jobs (seconds). Default: 3600 (1 hour)
# Examples:
#   CLEANUP_INTERVAL_SECONDS=600   # every 10 minutes
#   CLEANUP_INTERVAL_SECONDS=86400 # every day
#CLEANUP_INTERVAL_SECONDS=3600



# =====================
# Security (recommended if exposed to public internet)
# =====================
# Per-client rate limit for protected endpoints (0 disables)
RATE_LIMIT_PER_MINUTE=10

# Restrict who can call the API (comma-separated CIDRs)
# Examples:
#   ALLOWED_CLIENT_CIDRS=203.0.113.8/32
#   ALLOWED_CLIENT_CIDRS=203.0.113.8/32,198.51.100.0/24
ALLOWED_CLIENT_CIDRS=

# Basic SSRF guard for /api/download (blocks private/loopback/link-local/reserved destinations)
# Set true for public deployments. Keep false if you intentionally download from LAN hosts.
SSRF_GUARD=false

